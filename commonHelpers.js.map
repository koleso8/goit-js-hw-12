{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const ulEl = document.querySelector('.gallery');\n\nfunction imgTemplate({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<li class=\"gallery-item> \n    <figure class=\"sign\">\n        <a href=\"${largeImageURL}\"><img class=\"list-img\" src=\"${webformatURL}\" alt=\"${tags}\" title=\"\" width=\"360\" height=\"200\"/></a><span class=\"title-img\">\n        <figcaption class=\"title-img\"><ul class=\"figcaption\">\n      <li class=\"figcaption-item\">Likes<p class=\"counter\">${likes}</p></li>\n      <li class=\"figcaption-item\">Views<p class=\"counter\">${views}</p></li>\n      <li class=\"figcaption-item\">Comments<p class=\"counter\">${comments}</p></li>\n      <li class=\"figcaption-item\">Downloads<p class=\"counter\">${downloads}</p></li>\n    </ul></figcaption>\n    </figure>\n   </li>`;\n}\n\nfunction imagesTemplate(arr) {\n  return arr.map(imgTemplate).join('');\n}\n\nexport function renderImg(hits) {\n  const markup = imagesTemplate(hits);\n  ulEl.insertAdjacentHTML('beforeend', markup);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { renderImg } from './render-functions';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport SimpleLightbox from 'simplelightbox';\n\nexport function searchImages(value) {\n  const form = document.querySelector('.form');\n  form.insertAdjacentHTML('afterend', '<div id=\"loader\" class=\"loader\"></div>');\n  const params = new URLSearchParams({\n    key: '44959261-ea439a2adbf8f7e5770dfe1a3',\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 20,\n  });\n  const baseUrl = 'https://pixabay.com/api/';\n  fetch(`${baseUrl}?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(response => {\n      if (response.total !== 0) {\n        renderImg(response.hits);\n        let gallery = new SimpleLightbox('.gallery a');\n        gallery.refresh();\n      } else {\n        iziToast.error({\n          message: 'Image is not found',\n          position: 'topRight',\n        });\n      }\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      document.querySelector('.loader').remove();\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { searchImages } from './js/pixabay-api';\n\nconst refs = {\n  btnSubEl: document.querySelector('.btn-search'),\n  formEl: document.querySelector('.form'),\n  input: document.querySelector('input'),\n  ul: document.querySelector('ul'),\n};\n\nrefs.formEl.addEventListener('submit', evt => {\n  evt.preventDefault();\n  if (refs.input.value.trim()) {\n    searchImages(refs.input.value.trim());\n    refs.input.value = '';\n  } else {\n    iziToast.error({\n      message: 'Please fill in the input field',\n      position: 'topRight',\n    });\n  }\n});\n"],"names":["ulEl","imgTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","arr","renderImg","hits","markup","searchImages","value","params","response","SimpleLightbox","iziToast","error","refs","evt"],"mappings":"6vBAAA,MAAMA,EAAO,SAAS,cAAc,UAAU,EAE9C,SAASC,EAAY,CACnB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,mBAEUL,CAAa,gCAAgCD,CAAY,UAAUE,CAAI;AAAA;AAAA,4DAE9BC,CAAK;AAAA,4DACLC,CAAK;AAAA,+DACFC,CAAQ;AAAA,gEACPC,CAAS;AAAA;AAAA;AAAA,SAIzE,CAEA,SAASC,EAAeC,EAAK,CAC3B,OAAOA,EAAI,IAAIT,CAAW,EAAE,KAAK,EAAE,CACrC,CAEO,SAASU,EAAUC,EAAM,CAC9B,MAAMC,EAASJ,EAAeG,CAAI,EAClCZ,EAAK,mBAAmB,YAAaa,CAAM,CAC7C,CCxBO,SAASC,EAAaC,EAAO,CACrB,SAAS,cAAc,OAAO,EACtC,mBAAmB,WAAY,wCAAwC,EAC5E,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAED,MAAM,4BAAcC,CAAM,EAAE,EACzB,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKA,GAAY,CACZA,EAAS,QAAU,GACrBN,EAAUM,EAAS,IAAI,EACT,IAAIC,EAAe,YAAY,EACrC,QAAO,GAEfC,EAAS,MAAM,CACb,QAAS,qBACT,SAAU,UACpB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACb,SAAS,cAAc,SAAS,EAAE,OAAM,CAC9C,CAAK,CACL,CCtCA,MAAMC,EAAO,CACX,SAAU,SAAS,cAAc,aAAa,EAC9C,OAAQ,SAAS,cAAc,OAAO,EACtC,MAAO,SAAS,cAAc,OAAO,EACrC,GAAI,SAAS,cAAc,IAAI,CACjC,EAEAA,EAAK,OAAO,iBAAiB,SAAUC,GAAO,CAC5CA,EAAI,eAAc,EACdD,EAAK,MAAM,MAAM,KAAI,GACvBP,EAAaO,EAAK,MAAM,MAAM,KAAM,CAAA,EACpCA,EAAK,MAAM,MAAQ,IAEnBF,EAAS,MAAM,CACb,QAAS,iCACT,SAAU,UAChB,CAAK,CAEL,CAAC"}